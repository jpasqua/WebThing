<head>
  <title>LEDMatrix (marquee)</title>
  <link rel='icon' href='data:base64,='>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' href='https://www.w3schools.com/w3css/4/w3.css'>
  <link rel='stylesheet' href='https://www.w3schools.com/lib/w3-theme-green.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
</head>
<script>
  function activate(controller, controlled) {
  var isActiveElement = document.getElementsByName(controller)[0];
   	if (isActiveElement.checked) showHide(controlled);
   }
   
   function showHide(elementID) {
     var x = document.getElementById(elementID);
     if (x.style.display === "none") {
       x.style.display = "block";
     } else {
       x.style.display = "none";
   	}
   }

   function confirmAndGo(msg, dest) {
   	if (confirm(msg) == true) {
    	window.location.href = dest;
  	}
   }
</script>
  <H2>Advanced Settings</H2>
  <div style='display:%PWR_VSBL%'>
<div class='w3-card w3-round-large w3-margin'>
	<div class='w3-container' >
<form action='/updatePwrConfig' method='get'>
  <input name='useLowPowerMode' class='w3-check w3-margin-top' type='checkbox' %ULPM% onclick='showHide("powerSettings")' checked> Use Low Power Mode<br>
  <div class='w3-card w3-round-large'>
    <div class='w3-container'>
      <div id="powerSettings" style='display:none'>
        <div class='w3-row w3-margin-top w3-margin-bottom'>
          Processing Interval (minutes): 
          <select class='w3-option w3-padding' name='processingInterval'>
            <option value=1 %SI1%>1</option>
            <option value=10 %SI10%>10</option>
            <option value=15 %SI15%>15</option>
            <option value=20 %SI20%>20 </option>
            <option value=30 %SI30%>30</option>
            <option value=60 %SI60%>60</option>
          </select>
        </div>
        <div class='w3-row w3-margin-bottom'>
          Sleep Override Pin: 
          <select class='w3-option w3-padding' name='sleepOverridePin'>
            <option value=-1 %SP-1%>No Override Pin</option>
            <option value=0 %SP0%>GPIO 0 (D3)</option>
            <option value=1 %SP1%>GPIO 1 (TX)</option>
            <option value=2 %SP2%>GPIO 2 (D4)</option>
            <option value=3 %SP3%>GPIO 3 (RX)</option>
            <option value=4 %SP4%>GPIO 4 (D2)</option>
            <option value=5 %SP5%>GPIO 5 (D1)</option>
            <option value=6 %SP6%>GPIO 6</option>
            <option value=7 %SP7%>GPIO 7</option>
            <option value=8 %SP8%>GPIO 8</option>
            <option value=9 %SP9%>GPIO 9</option>
            <option value=10 %SP10%>GPIO 10</option>
            <option value=11 %SP11%>GPIO 11</option>
            <option value=12 %SP12%>GPIO 12 (D6)</option>
            <option value=13 %SP13%>GPIO 13 (D7)</option>
            <option value=14 %SP14%>GPIO 14 (D5)</option>
            <option value=15 %SP15%>GPIO 15 (D8)</option>
            <option value=16 %SP16%>GPIO 16 (D0)</option>
          </select>
        </div>
        <div class='w3-row w3-margin-bottom'>
          <input name='hasVoltageSensing' class='w3-check' type='checkbox' %VSENSE%> Voltage Sensing
        </div>
        <div class='w3-quarter w3-margin-bottom'>
          <input id='vcf' class='w3-input w3-border' type='text' name='voltageCalibFactor' value='%VCF%' size='5'>
        </div>
        <div class='w3-row w3-rest w3-margin-bottom'>
          &nbsp;(Voltage Calibration Factor)
        </div>
      </div>
    </div>
  </div>
  <button class='w3-button w3-block w3-round-large w3-grey w3-margin-top w3-margin-bottom' type='submit'>Save</button>
</form>
</div>
</div>
</div>
<div class='w3-container'>
<input class='w3-button w3-block w3-round-large w3-pale-yellow w3-margin-bottom' type="button" onclick='confirmAndGo("Are you sure you want to reset the WiFi settings?", "/forgetwifi");' value="Reset WiFi Settings" />
<input class='w3-button w3-block w3-round-large w3-pale-yellow w3-margin-bottom' type="button" onclick='confirmAndGo("Are you sure you want to reset the General settings?", "/systemreset");' value="Reset General Settings" />
</div>
<script type="text/javascript">
	activate('useLowPowerMode', 'powerSettings')
</script>